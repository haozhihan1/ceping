# å‘˜å·¥èƒ½åŠ›æµ‹è¯„ç³»ç»Ÿ - ç”Ÿäº§éƒ¨ç½²æŒ‡å—ä¸æ³¨æ„äº‹é¡¹

## ğŸ¯ éƒ¨ç½²æ¦‚è¿°

æœ¬æŒ‡å—è¯¦ç»†è¯´æ˜äº†å°†å‘˜å·¥èƒ½åŠ›æµ‹è¯„ç³»ç»Ÿä»å¼€å‘ç¯å¢ƒéƒ¨ç½²åˆ°è…¾è®¯äº‘CentOSç”Ÿäº§ç¯å¢ƒçš„å®Œæ•´æµç¨‹ã€é…ç½®è¦æ±‚å’Œå…³é”®æ³¨æ„äº‹é¡¹ã€‚

**æœåŠ¡å™¨ä¿¡æ¯**
- **IPåœ°å€**: 124.223.40.219
- **æ“ä½œç³»ç»Ÿ**: TencentOS4-Linux (CentOSå…¼å®¹)
- **æ¶æ„**: Nginx + Gunicorn + Supervisor + SQLite

## âš ï¸ éƒ¨ç½²å‰å¿…è¯»äº‹é¡¹

### 1. æ•°æ®å®‰å…¨
- âœ… **å¿…é¡»å¤‡ä»½æœ¬åœ°æ•°æ®åº“**: è¿è¡Œ `python database_migration.py` ç”Ÿæˆè¿ç§»æ–‡ä»¶
- âœ… **éªŒè¯è¿ç§»æ–‡ä»¶å®Œæ•´æ€§**: æ£€æŸ¥ `database_migration.sql` å’Œ `database_backup.json`
- âœ… **æµ‹è¯•æ•°æ®æ¢å¤**: æœ¬åœ°æµ‹è¯•è¿ç§»æ–‡ä»¶èƒ½å¦æ­£ç¡®æ¢å¤æ•°æ®

### 2. å®‰å…¨é…ç½®
- ğŸ” **SECRET_KEY**: å¿…é¡»ç”Ÿæˆ32ä½ä»¥ä¸Šéšæœºå­—ç¬¦ä¸²ï¼Œç»ä¸èƒ½ä½¿ç”¨é»˜è®¤å€¼
- ğŸ” **DEEPSEEK_API_KEY**: å¿…é¡»ä½¿ç”¨æœ‰æ•ˆçš„APIå¯†é’¥
- ğŸ” **ç®¡ç†å‘˜å¯†ç **: å¿…é¡»ä¿®æ”¹é»˜è®¤å¯†ç  `admin123`
- ğŸ” **æ•°æ®åº“æƒé™**: ç¡®ä¿SQLiteæ–‡ä»¶æƒé™æ­£ç¡®è®¾ç½®

### 3. ç½‘ç»œå’Œé˜²ç«å¢™
- ğŸŒ **ç«¯å£å¼€æ”¾**: ç¡®ä¿80å’Œ443ç«¯å£åœ¨è…¾è®¯äº‘å®‰å…¨ç»„ä¸­å·²å¼€æ”¾
- ğŸŒ **åŸŸåè§£æ**: å¦‚ä½¿ç”¨åŸŸåï¼Œç¡®ä¿DNSè§£ææ­£ç¡®æŒ‡å‘æœåŠ¡å™¨IP
- ğŸŒ **SSLè¯ä¹¦**: ç”Ÿäº§ç¯å¢ƒå»ºè®®é…ç½®HTTPS

## ğŸ“‹ è¯¦ç»†éƒ¨ç½²æ­¥éª¤

### ç¬¬ä¸€é˜¶æ®µï¼šæœ¬åœ°å‡†å¤‡

#### 1.1 ç”Ÿæˆæ•°æ®åº“è¿ç§»æ–‡ä»¶

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
cd "d:\Project -new"
python database_migration.py

# éªŒè¯ç”Ÿæˆçš„æ–‡ä»¶
dir database_migration.sql
dir database_backup.json
```

**éªŒè¯è¦ç‚¹**:
- ç¡®è®¤SQLæ–‡ä»¶åŒ…å«æ‰€æœ‰è¡¨ç»“æ„å’Œæ•°æ®
- æ£€æŸ¥è®°å½•æ•°æ˜¯å¦æ­£ç¡®ï¼ˆåº”è¯¥æœ‰125æ¡questionè®°å½•ï¼‰
- ç¡®ä¿ä¸­æ–‡æ•°æ®æ²¡æœ‰ä¹±ç 

#### 1.2 é…ç½®ç”Ÿäº§ç¯å¢ƒå˜é‡

ç¼–è¾‘ `production.env` æ–‡ä»¶ï¼š

```env
# ğŸ”´ å¿…é¡»ä¿®æ”¹çš„å®‰å…¨é…ç½®
SECRET_KEY=è¯·æ›¿æ¢ä¸º32ä½ä»¥ä¸Šéšæœºå­—ç¬¦ä¸²
DEEPSEEK_API_KEY=sk-è¯·æ›¿æ¢ä¸ºçœŸå®çš„APIå¯†é’¥
ADMIN_USERNAME=admin
ADMIN_PASSWORD=è¯·æ›¿æ¢ä¸ºå¼ºå¯†ç 

# æœåŠ¡å™¨é…ç½®
HOST=0.0.0.0
PORT=8000
WORKERS=4

# æ•°æ®åº“è·¯å¾„
DATABASE_PATH=/home/www/flask_project/data/new_questions.db

# æ—¥å¿—çº§åˆ«
LOG_LEVEL=INFO
```

#### 1.3 å‡†å¤‡Gitä»“åº“

```bash
# åˆå§‹åŒ–Gitï¼ˆå¦‚æœå°šæœªåˆå§‹åŒ–ï¼‰
git init
git branch -M main

# æ·»åŠ .gitignore
echo "*.db" >> .gitignore
echo ".env" >> .gitignore
echo "__pycache__/" >> .gitignore
echo "venv/" >> .gitignore
echo "logs/" >> .gitignore

# æäº¤ä»£ç 
git add .
git commit -m "Production deployment ready"

# æ¨é€åˆ°è¿œç¨‹ä»“åº“
git remote add origin https://your-git-repo-url.git
git push -u origin main
```

### ç¬¬äºŒé˜¶æ®µï¼šæœåŠ¡å™¨éƒ¨ç½²

#### 2.1 è¿æ¥æœåŠ¡å™¨

```bash
# ä½¿ç”¨SSHè¿æ¥
ssh root@124.223.40.219

# æˆ–ä½¿ç”¨å¯†é’¥è¿æ¥
ssh -i /path/to/your-key.pem root@124.223.40.219
```

#### 2.2 ç³»ç»Ÿç¯å¢ƒå‡†å¤‡

```bash
# æ›´æ–°ç³»ç»Ÿ
yum update -y

# å®‰è£…åŸºç¡€ä¾èµ–
yum install -y wget curl git unzip vim htop

# å®‰è£…Python3
yum install -y python3 python3-pip python3-devel

# å®‰è£…ç¼–è¯‘å·¥å…·ï¼ˆæŸäº›PythonåŒ…éœ€è¦ï¼‰
yum groupinstall -y "Development Tools"

# å®‰è£…WebæœåŠ¡
yum install -y nginx supervisor

# é…ç½®è…¾è®¯äº‘pipé•œåƒæº
mkdir -p ~/.pip
cat > ~/.pip/pip.conf << 'EOF'
[global]
index-url = https://mirrors.tencent.com/pypi/simple/
trusted-host = mirrors.tencent.com
timeout = 30
retries = 3
EOF
```

#### 2.3 åˆ›å»ºé¡¹ç›®ç¯å¢ƒ

```bash
# åˆ›å»ºä¸“ç”¨ç”¨æˆ·
useradd -m -s /bin/bash www
usermod -aG wheel www  # å¯é€‰ï¼šæ·»åŠ sudoæƒé™

# åˆ›å»ºé¡¹ç›®ç›®å½•ç»“æ„
mkdir -p /home/www/flask_project/{data,logs,uploads,backup,static}
chown -R www:www /home/www/flask_project

# è®¾ç½®åˆé€‚çš„æƒé™
chmod -R 755 /home/www/flask_project
chmod -R 775 /home/www/flask_project/data
chmod -R 775 /home/www/flask_project/logs
```

#### 2.4 å…‹éš†é¡¹ç›®ä»£ç 

```bash
# åˆ‡æ¢åˆ°é¡¹ç›®ç›®å½•
cd /home/www

# å…‹éš†é¡¹ç›®ï¼ˆæ›¿æ¢ä¸ºæ‚¨çš„å®é™…ä»“åº“åœ°å€ï¼‰
sudo -u www git clone https://your-git-repo-url.git flask_project

# è¿›å…¥é¡¹ç›®ç›®å½•
cd flask_project
```

#### 2.5 é…ç½®Pythonç¯å¢ƒ

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
sudo -u www python3 -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒå¹¶å‡çº§pip
sudo -u www bash -c "source venv/bin/activate && pip install --upgrade pip"

# å®‰è£…é¡¹ç›®ä¾èµ–
sudo -u www bash -c "source venv/bin/activate && pip install -r requirements.txt"

# éªŒè¯å®‰è£…
sudo -u www bash -c "source venv/bin/activate && pip list"
```

#### 2.6 é…ç½®æ•°æ®åº“

```bash
# ç¡®ä¿æ•°æ®ç›®å½•å­˜åœ¨
mkdir -p /home/www/flask_project/data
chown www:www /home/www/flask_project/data

# å¯¼å…¥æ•°æ®åº“ï¼ˆå¦‚æœæœ‰è¿ç§»æ–‡ä»¶ï¼‰
if [ -f "database_migration.sql" ]; then
    echo "æ­£åœ¨å¯¼å…¥æ•°æ®åº“..."
    sudo -u www sqlite3 data/new_questions.db < database_migration.sql
    echo "æ•°æ®åº“å¯¼å…¥å®Œæˆ"
else
    echo "æœªæ‰¾åˆ°è¿ç§»æ–‡ä»¶ï¼Œå°†åˆå§‹åŒ–æ–°æ•°æ®åº“"
    sudo -u www bash -c "source venv/bin/activate && python init_database.py"
    mv new_questions.db data/ 2>/dev/null || true
fi

# è®¾ç½®æ•°æ®åº“æƒé™
chown www:www data/new_questions.db
chmod 664 data/new_questions.db

# éªŒè¯æ•°æ®åº“
sudo -u www sqlite3 data/new_questions.db "SELECT COUNT(*) FROM questions;"
```

#### 2.7 é…ç½®ç¯å¢ƒå˜é‡

```bash
# å¤åˆ¶ç¯å¢ƒé…ç½®
sudo -u www cp production.env .env

# ç¼–è¾‘é…ç½®æ–‡ä»¶
sudo -u www vim .env
```

**é‡è¦ï¼šå¿…é¡»ä¿®æ”¹ä»¥ä¸‹é…ç½®**
```env
SECRET_KEY=ç”Ÿæˆä¸€ä¸ª32ä½ä»¥ä¸Šçš„éšæœºå­—ç¬¦ä¸²
DEEPSEEK_API_KEY=æ‚¨çš„çœŸå®APIå¯†é’¥
ADMIN_PASSWORD=è®¾ç½®å¼ºå¯†ç 
```

#### 2.8 é…ç½®WebæœåŠ¡

```bash
# å¤‡ä»½åŸå§‹Nginxé…ç½®
cp /etc/nginx/nginx.conf /etc/nginx/nginx.conf.backup

# ä½¿ç”¨é¡¹ç›®çš„Nginxé…ç½®
cp production_nginx.conf /etc/nginx/nginx.conf

# æµ‹è¯•Nginxé…ç½®
nginx -t

# é…ç½®Supervisor
cp production_supervisor.conf /etc/supervisord.d/flask_app.ini

# åˆ›å»ºæ—¥å¿—ç›®å½•
mkdir -p /var/log/supervisor
chown -R www:www /var/log/supervisor
```

#### 2.9 å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨å¹¶è®¾ç½®å¼€æœºè‡ªå¯
systemctl enable nginx supervisord
systemctl start nginx supervisord

# é‡æ–°åŠ è½½Supervisoré…ç½®
supervisorctl reread
supervisorctl update

# å¯åŠ¨Flaskåº”ç”¨
supervisorctl start employee_assessment

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
supervisorctl status
systemctl status nginx
```

#### 2.10 é…ç½®é˜²ç«å¢™

```bash
# å¯åŠ¨é˜²ç«å¢™
systemctl start firewalld
systemctl enable firewalld

# å¼€æ”¾HTTPå’ŒHTTPSç«¯å£
firewall-cmd --permanent --add-port=80/tcp
firewall-cmd --permanent --add-port=443/tcp

# é‡è½½é˜²ç«å¢™é…ç½®
firewall-cmd --reload

# éªŒè¯ç«¯å£çŠ¶æ€
firewall-cmd --list-ports
```

### ç¬¬ä¸‰é˜¶æ®µï¼šéƒ¨ç½²éªŒè¯

#### 3.1 æœåŠ¡çŠ¶æ€æ£€æŸ¥

```bash
# æ£€æŸ¥æ‰€æœ‰å…³é”®æœåŠ¡
systemctl status nginx
systemctl status supervisord
supervisorctl status employee_assessment

# æ£€æŸ¥ç«¯å£ç›‘å¬
netstat -tlnp | grep :80
netstat -tlnp | grep :8000

# æ£€æŸ¥è¿›ç¨‹
ps aux | grep gunicorn
ps aux | grep nginx
```

#### 3.2 åº”ç”¨åŠŸèƒ½æµ‹è¯•

```bash
# å¥åº·æ£€æŸ¥
curl -I http://localhost/health
curl -I http://124.223.40.219/health

# ä¸»é¡µé¢æµ‹è¯•
curl http://localhost/
curl http://124.223.40.219/

# APIæµ‹è¯•
curl -X GET http://124.223.40.219/api/questions

# ç®¡ç†åå°æµ‹è¯•
curl -I http://124.223.40.219/manage
```

#### 3.3 æ—¥å¿—æ£€æŸ¥

```bash
# åº”ç”¨æ—¥å¿—
tail -f /var/log/supervisor/flask_app_stdout.log
tail -f /var/log/supervisor/flask_app_stderr.log

# Nginxæ—¥å¿—
tail -f /var/log/nginx/access.log
tail -f /var/log/nginx/error.log

# ç³»ç»Ÿæ—¥å¿—
journalctl -u nginx -f
journalctl -u supervisord -f
```

## ğŸ”§ ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–é…ç½®

### 1. æ€§èƒ½ä¼˜åŒ–

#### Gunicornä¼˜åŒ–
```python
# åœ¨gunicorn.conf.pyä¸­è°ƒæ•´
workers = cpu_count * 2 + 1  # æ ¹æ®CPUæ ¸æ•°è°ƒæ•´
worker_class = "sync"  # æˆ–ä½¿ç”¨gevent/eventlet
worker_connections = 1000
max_requests = 1000
max_requests_jitter = 50
```

#### Nginxä¼˜åŒ–
```nginx
# åœ¨nginx.confä¸­æ·»åŠ 
worker_processes auto;
worker_connections 1024;

# å¯ç”¨gzipå‹ç¼©
gzip on;
gzip_vary on;
gzip_min_length 1024;
gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;

# ç¼“å­˜é™æ€æ–‡ä»¶
location /static/ {
    expires 1y;
    add_header Cache-Control "public, immutable";
}
```

### 2. å®‰å…¨åŠ å›º

#### SSLè¯ä¹¦é…ç½®
```bash
# å®‰è£…certbot
yum install -y certbot python3-certbot-nginx

# ç”³è¯·Let's Encryptè¯ä¹¦ï¼ˆéœ€è¦åŸŸåï¼‰
certbot --nginx -d your-domain.com

# é…ç½®è‡ªåŠ¨ç»­æœŸ
echo "0 12 * * * /usr/bin/certbot renew --quiet" | crontab -
```

#### è®¿é—®æ§åˆ¶
```nginx
# é™åˆ¶ç®¡ç†åå°è®¿é—®
location /manage {
    allow æ‚¨çš„åŠå…¬ç½‘IP;
    deny all;
    # ... å…¶ä»–é…ç½®
}

# é™åˆ¶APIè°ƒç”¨é¢‘ç‡
limit_req_zone $binary_remote_addr zone=api:10m rate=10r/s;
location /api/ {
    limit_req zone=api burst=20 nodelay;
    # ... å…¶ä»–é…ç½®
}
```

### 3. ç›‘æ§å’Œå‘Šè­¦

#### ç³»ç»Ÿç›‘æ§è„šæœ¬
```bash
cat > /home/www/monitor.sh << 'EOF'
#!/bin/bash
LOG_FILE="/home/www/flask_project/logs/monitor.log"
DATE=$(date '+%Y-%m-%d %H:%M:%S')

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
check_service() {
    service_name=$1
    if systemctl is-active --quiet $service_name; then
        echo "[$DATE] $service_name: OK" >> $LOG_FILE
    else
        echo "[$DATE] $service_name: FAILED" >> $LOG_FILE
        # è¿™é‡Œå¯ä»¥æ·»åŠ å‘Šè­¦é€»è¾‘
    fi
}

check_service nginx
check_service supervisord

# æ£€æŸ¥åº”ç”¨è¿›ç¨‹
if supervisorctl status employee_assessment | grep -q RUNNING; then
    echo "[$DATE] Flask App: OK" >> $LOG_FILE
else
    echo "[$DATE] Flask App: FAILED" >> $LOG_FILE
    # å°è¯•é‡å¯åº”ç”¨
    supervisorctl restart employee_assessment
fi

# æ£€æŸ¥ç£ç›˜ç©ºé—´
DISK_USAGE=$(df / | awk 'NR==2 {print $5}' | sed 's/%//')
if [ $DISK_USAGE -gt 80 ]; then
    echo "[$DATE] Disk Usage: WARNING ${DISK_USAGE}%" >> $LOG_FILE
fi

# æ£€æŸ¥å†…å­˜ä½¿ç”¨
MEM_USAGE=$(free | awk 'NR==2{printf "%.0f", $3*100/$2}')
if [ $MEM_USAGE -gt 80 ]; then
    echo "[$DATE] Memory Usage: WARNING ${MEM_USAGE}%" >> $LOG_FILE
fi
EOF

chmod +x /home/www/monitor.sh

# æ·»åŠ å®šæ—¶ç›‘æ§
echo "*/5 * * * * /home/www/monitor.sh" | crontab -
```

## ğŸ“Š è¿ç»´ç®¡ç†

### 1. æ—¥å¸¸ç»´æŠ¤å‘½ä»¤

```bash
# é‡å¯åº”ç”¨
supervisorctl restart employee_assessment

# é‡æ–°åŠ è½½Nginxé…ç½®
nginx -s reload

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
tail -f /home/www/flask_project/logs/app.log

# æ£€æŸ¥ç³»ç»Ÿèµ„æº
htop
df -h
free -h

# æŸ¥çœ‹ç½‘ç»œè¿æ¥
netstat -an | grep :80
```

### 2. æ•°æ®åº“ç»´æŠ¤

```bash
# å¤‡ä»½æ•°æ®åº“
DATE=$(date +%Y%m%d_%H%M%S)
cp /home/www/flask_project/data/new_questions.db \
   /home/www/flask_project/backup/database_$DATE.db

# ä¼˜åŒ–æ•°æ®åº“
sqlite3 /home/www/flask_project/data/new_questions.db "VACUUM;"

# æ£€æŸ¥æ•°æ®åº“å®Œæ•´æ€§
sqlite3 /home/www/flask_project/data/new_questions.db "PRAGMA integrity_check;"
```

### 3. è‡ªåŠ¨å¤‡ä»½è„šæœ¬

```bash
cat > /home/www/backup_script.sh << 'EOF'
#!/bin/bash
BACKUP_DIR="/home/www/flask_project/backup"
DATE=$(date +%Y%m%d_%H%M%S)
RETENTION_DAYS=7

mkdir -p $BACKUP_DIR

# å¤‡ä»½æ•°æ®åº“
cp /home/www/flask_project/data/new_questions.db $BACKUP_DIR/database_$DATE.db

# å¤‡ä»½é…ç½®æ–‡ä»¶
tar -czf $BACKUP_DIR/config_$DATE.tar.gz -C /home/www/flask_project .env gunicorn.conf.py

# å¤‡ä»½æ—¥å¿—
tar -czf $BACKUP_DIR/logs_$DATE.tar.gz -C /home/www/flask_project/logs .

# æ¸…ç†æ—§å¤‡ä»½
find $BACKUP_DIR -name "database_*.db" -mtime +$RETENTION_DAYS -delete
find $BACKUP_DIR -name "config_*.tar.gz" -mtime +$RETENTION_DAYS -delete
find $BACKUP_DIR -name "logs_*.tar.gz" -mtime +$RETENTION_DAYS -delete

echo "$(date): å¤‡ä»½å®Œæˆ" >> $BACKUP_DIR/backup.log
EOF

chmod +x /home/www/backup_script.sh

# æ¯æ—¥2ç‚¹è‡ªåŠ¨å¤‡ä»½
echo "0 2 * * * /home/www/backup_script.sh" | crontab -
```

## ğŸš¨ å¸¸è§é—®é¢˜è§£å†³

### 1. åº”ç”¨æ— æ³•å¯åŠ¨

**ç—‡çŠ¶**: supervisorctl status æ˜¾ç¤º FATAL
```bash
# æŸ¥çœ‹è¯¦ç»†é”™è¯¯
supervisorctl tail -f employee_assessment stderr

# æ£€æŸ¥é…ç½®æ–‡ä»¶
sudo -u www bash -c "source venv/bin/activate && python -m py_compile production_app.py"

# æ£€æŸ¥ç¯å¢ƒå˜é‡
sudo -u www bash -c "source venv/bin/activate && python -c 'import os; print(os.environ.get(\"SECRET_KEY\"))'"

# æ‰‹åŠ¨æµ‹è¯•å¯åŠ¨
cd /home/www/flask_project
sudo -u www bash -c "source venv/bin/activate && python production_app.py"
```

### 2. æ•°æ®åº“è¿æ¥é”™è¯¯

**ç—‡çŠ¶**: æ•°æ®åº“ç›¸å…³é”™è¯¯
```bash
# æ£€æŸ¥æ•°æ®åº“æ–‡ä»¶å­˜åœ¨å’Œæƒé™
ls -la /home/www/flask_project/data/new_questions.db

# æµ‹è¯•æ•°æ®åº“è¿æ¥
sqlite3 /home/www/flask_project/data/new_questions.db "SELECT COUNT(*) FROM questions;"

# é‡æ–°å¯¼å…¥æ•°æ®åº“
cd /home/www/flask_project
sudo -u www sqlite3 data/new_questions.db < database_migration.sql
```

### 3. Nginxä»£ç†é”™è¯¯

**ç—‡çŠ¶**: 502 Bad Gateway
```bash
# æ£€æŸ¥åç«¯æœåŠ¡
curl http://127.0.0.1:8000/health

# æ£€æŸ¥Nginxé…ç½®
nginx -t

# æŸ¥çœ‹Nginxé”™è¯¯æ—¥å¿—
tail -f /var/log/nginx/error.log

# é‡å¯Nginx
systemctl restart nginx
```

### 4. ç«¯å£å ç”¨é—®é¢˜

```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
netstat -tlnp | grep :80
netstat -tlnp | grep :8000

# æ€æ­»å ç”¨è¿›ç¨‹
kill -9 PID

# é‡å¯ç›¸å…³æœåŠ¡
supervisorctl restart employee_assessment
systemctl restart nginx
```

## ğŸ“‹ éƒ¨ç½²æ£€æŸ¥æ¸…å•

### éƒ¨ç½²å‰æ£€æŸ¥ âœ“
- [ ] æœ¬åœ°æ•°æ®åº“å·²å¤‡ä»½å¹¶ç”Ÿæˆè¿ç§»æ–‡ä»¶
- [ ] production.env æ–‡ä»¶å·²æ­£ç¡®é…ç½®
- [ ] Gitä»“åº“å·²åˆ›å»ºå¹¶æ¨é€ä»£ç 
- [ ] è…¾è®¯äº‘å®‰å…¨ç»„å·²å¼€æ”¾80ã€443ç«¯å£
- [ ] SSHå¯†é’¥æˆ–å¯†ç å·²å‡†å¤‡

### æœåŠ¡å™¨é…ç½®æ£€æŸ¥ âœ“
- [ ] ç³»ç»Ÿæ›´æ–°å®Œæˆ
- [ ] Python3ã€Nginxã€Supervisorå·²å®‰è£…
- [ ] wwwç”¨æˆ·å·²åˆ›å»º
- [ ] é¡¹ç›®ç›®å½•æƒé™æ­£ç¡®è®¾ç½®
- [ ] è™šæ‹Ÿç¯å¢ƒåˆ›å»ºå¹¶å®‰è£…ä¾èµ–
- [ ] æ•°æ®åº“å¯¼å…¥æˆåŠŸ

### æœåŠ¡å¯åŠ¨æ£€æŸ¥ âœ“
- [ ] Nginxé…ç½®æµ‹è¯•é€šè¿‡
- [ ] Supervisoré…ç½®æ­£ç¡®
- [ ] Flaskåº”ç”¨å¯åŠ¨æˆåŠŸ
- [ ] é˜²ç«å¢™é…ç½®å®Œæˆ
- [ ] å¥åº·æ£€æŸ¥æ¥å£æ­£å¸¸

### åŠŸèƒ½æµ‹è¯•æ£€æŸ¥ âœ“
- [ ] ä¸»é¡µé¢å¯è®¿é—®
- [ ] APIæ¥å£æ­£å¸¸
- [ ] ç®¡ç†åå°å¯è®¿é—®
- [ ] ç”¨æˆ·ç™»å½•åŠŸèƒ½æ­£å¸¸
- [ ] æµ‹è¯„æµç¨‹å®Œæ•´
- [ ] æŠ¥å‘Šç”ŸæˆåŠŸèƒ½æ­£å¸¸

### å®‰å…¨é…ç½®æ£€æŸ¥ âœ“
- [ ] SECRET_KEYå·²ä¿®æ”¹
- [ ] ç®¡ç†å‘˜å¯†ç å·²ä¿®æ”¹
- [ ] DEEPSEEK_API_KEYå·²é…ç½®
- [ ] æ–‡ä»¶æƒé™æ­£ç¡®è®¾ç½®
- [ ] SSLè¯ä¹¦å·²é…ç½®ï¼ˆå¯é€‰ï¼‰

### ç›‘æ§å’Œå¤‡ä»½æ£€æŸ¥ âœ“
- [ ] ç›‘æ§è„šæœ¬å·²éƒ¨ç½²
- [ ] è‡ªåŠ¨å¤‡ä»½å·²é…ç½®
- [ ] æ—¥å¿—è½®è½¬å·²è®¾ç½®
- [ ] å‘Šè­¦æœºåˆ¶å·²å»ºç«‹

## ğŸ‰ éƒ¨ç½²å®Œæˆåçš„è®¿é—®ä¿¡æ¯

**ç³»ç»Ÿè®¿é—®åœ°å€**:
- ä¸»é¡µ: http://124.223.40.219
- ç®¡ç†åå°: http://124.223.40.219/manage
- å¥åº·æ£€æŸ¥: http://124.223.40.219/health
- APIæ¥å£: http://124.223.40.219/api/

**ç®¡ç†å‘˜ç™»å½•**:
- ç”¨æˆ·å: adminï¼ˆæˆ–æ‚¨è®¾ç½®çš„ç”¨æˆ·åï¼‰
- å¯†ç : æ‚¨åœ¨ .env æ–‡ä»¶ä¸­è®¾ç½®çš„å¯†ç 

**é‡è¦æ–‡ä»¶ä½ç½®**:
- é¡¹ç›®ç›®å½•: `/home/www/flask_project`
- æ•°æ®åº“æ–‡ä»¶: `/home/www/flask_project/data/new_questions.db`
- é…ç½®æ–‡ä»¶: `/home/www/flask_project/.env`
- æ—¥å¿—ç›®å½•: `/home/www/flask_project/logs`
- å¤‡ä»½ç›®å½•: `/home/www/flask_project/backup`

---

**ğŸ”” æœ€åæé†’**: 
1. å®šæœŸæ£€æŸ¥æœåŠ¡çŠ¶æ€å’Œæ—¥å¿—
2. åŠæ—¶å¤‡ä»½é‡è¦æ•°æ®
3. ç›‘æ§ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µ
4. ä¿æŒç³»ç»Ÿå’Œä¾èµ–åŒ…çš„æ›´æ–°
5. å¦¥å–„ä¿ç®¡æ•°æ®åº“å¤‡ä»½æ–‡ä»¶
