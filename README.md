# 员工能力测评系统

## 项目简介

这是一个基于Flask的员工能力测评系统，包含登录、答题、结果分析和报告生成功能。

## 功能特性

- **用户登录**：支持公司名称、员工姓名、员工工号登录
- **在线答题**：240道题目，包含评分题和单选题
- **自动计时**：每题15秒自动提交
- **一键完成**：随机填充所有答案
- **结果分析**：多种图表展示测评结果
- **智能报告**：基于DeepSeek API生成个性化报告
- **PDF导出**：支持报告下载为PDF格式

## 系统架构

### 数据库设计
- **问题表(questions)**：存储240道测评题目
- **人员表(employees)**：存储员工信息和测评结果

### 后端API
- `/api/login`：用户登录
- `/api/questions`：获取题目列表
- `/api/submit`：提交答案并计算得分
- `/api/generate-report`：生成分析报告

### 前端页面
- **登录页面**：用户信息录入
- **答题页面**：题目展示和答案选择
- **结果页面**：图表展示测评结果
- **报告页面**：详细分析报告

## 安装和运行

### 1. 安装依赖
```bash
pip install -r requirements.txt
```

### 2. 初始化数据库
```bash
# 运行SQL脚本创建数据库结构
sqlite3 new_questions.db < new_database.sql
```

### 3. 启动应用
```bash
python new_app.py
```

### 4. 访问系统
打开浏览器访问：http://localhost:5000

## 测评维度

### 管理能力 (题目1-80)
- 战略思维 (1-20)
- 团队领导 (21-40)
- 执行管控 (41-60)
- 跨部门协作 (61-80)

### 性格特质 (题目81-100)
- 外向性 (87,88,89)
- 宜人性 (90,92,99)
- 开放性 (81,83,97)
- 责任心 (82,84,85,86,91,95,98)

### 行为模式 (题目101-120)
- 支配型 (101-105)
- 影响型 (106-110)
- 稳健型 (111-115)
- 谨慎型 (116-120)

### 职业兴趣 (题目121-180)
- 现实型 (121-130)
- 研究型 (131-140)
- 艺术型 (141-150)
- 社会型 (151-160)
- 企业型 (161-170)
- 常规型 (171-180)

### 通用能力 (题目181-240)
- 言语理解 (181-195)
- 数量分析 (196-210)
- 逻辑推理 (211-224)
- 空间认知 (225-240)

## 评分规则

### 评分题 (1-180题)
- 选择1：1分
- 选择2：2分
- 选择3：3分
- 选择4：4分
- 选择5：5分

### 单选题 (181-240题)
- 答案正确：1分
- 答案错误：0分

## 文件结构

```
├── new_app.py              # Flask后端应用
├── new_database.sql        # 数据库结构脚本
├── requirements.txt        # Python依赖
├── README.md              # 项目说明
├── templates/             # 模板文件
│   ├── index.html         # 前端页面
│   └── report.template.md # 报告模板
└── new_questions.db       # SQLite数据库文件
```

## 技术栈

- **后端**：Flask + SQLite
- **前端**：HTML + CSS + JavaScript
- **图表**：Chart.js + ECharts
- **AI服务**：DeepSeek API
- **PDF生成**：html2pdf.js

## 注意事项

1. 需要配置有效的DeepSeek API密钥
2. 确保数据库文件有写入权限
3. 建议在生产环境中使用更安全的数据库配置
4. 可以根据需要调整题目内容和评分规则

## 开发说明

### 添加新题目
在`new_database.sql`中添加INSERT语句，或直接操作数据库。

### 修改评分规则
在`new_app.py`的`submit_answers`函数中修改评分逻辑。

### 自定义报告模板
修改`templates/report.template.md`文件。

## 许可证

MIT License 